'use strict';

/*
 * @api public
 * @property {function} format
 * Both the construction method and set of exposed
 * formats.
 */
const format = exports.format = require('./format');

/*
 * @api public
 * @method {function} levels
 * Registers the specified levels with logform.
 */
exports.levels = require('./levels');

/*
 * @api private
 * method {function} exposeFormat
 * Exposes a sub-format on the main format object
 * as a lazy-loaded getter.
 */
function exposeFormat(name, path) {
  path = path || name;
  Object.defineProperty(format, name, {
    get() {
      if (name === 'align') {
        return require('./align');
      }
      if (name === 'combine') {
        return require('./combine');
      }
      if (name === 'colorize') {
        return require('./colorize');
      }
      if (name === 'json') {
        return require('./json');
      }
      if (name === 'prettyPrint') {
        return require('./pretty-print');
      }
      if (name === 'label') {
        return require('./label');
      }
      if (name === 'printf') {
        return require('./printf');
      }
      if (name === 'timestamp') {
        return require('./timestamp');
      }
      if (name === 'simple') {
        return require('./simple');
      }
      if (name === 'uncolorize') {
        return require('./uncolorize');
      }
      if (name === 'splat') {
        return require('./splat');
      }
      if (name === 'ms') {
        return require('./ms');
      }
      if (name === 'metadata') {
        return require('./metadata');
      }
      if (name === 'logstash') {
        return require('./logstash');
      }
      if (name === 'padLevels') {
        return require('./pad-levels');
      }
      // return require(`./${path}.js`);
    },
    configurable: true
  });
}

//
// Setup all transports as lazy-loaded getters.
//
exposeFormat('align');
exposeFormat('errors');
exposeFormat('cli');
exposeFormat('combine');
exposeFormat('colorize');
exposeFormat('json');
exposeFormat('label');
exposeFormat('logstash');
exposeFormat('metadata');
exposeFormat('ms');
exposeFormat('padLevels', 'pad-levels');
exposeFormat('prettyPrint', 'pretty-print');
exposeFormat('printf');
exposeFormat('simple');
exposeFormat('splat');
exposeFormat('timestamp');
exposeFormat('uncolorize');
